# 接口文档

### 状态码列表


| 状态码 | 含义 |
| :---: | :--: |
| 1001  | 请求成功 |
| 2001  | 请求结果不存在 |
| 2002  | 操作失败 |
| 2003  | 权限不够 |
| 2004  | 登录失效 |
| 2005  | 请求参数缺失 |
| 3001  | 抛出异常 |

### 请求返回消息格式

|字段名|类型|含义|
|:-|:-|:-|
|code|int|状态码|
|msg|string|返回信息|
|data|数组|数据(可能为空)|


---
### 登录(GET/POST，form提交，自动重定向)
#### 地址
 * /login
#### 参数
|字段名|类型| 含义 |
|:---|:---|:|
|no|string|学号/工号|
|password|string|密码|
|type|int|身份类型|

其中 type=1为学生，type=2为管理员


---
### 修改密码(POST)
* /updatePassword
#### 参数
* 旧密码 password
* 新密码 newPassword


---
### 获取基层党组织信息(POST)
#### 地址
* /getSchools
#### 参数
无
#### 返回信息
其中data中对象属性：
|字段名|含义|
|:-|:-|
|no|基层党组织编号|
|name|基层党组织名称|



---
### 获取全部身份(POST)
#### 地址
* /getPowers
#### 参数
无
#### 返回信息
其中data中对象属性：
|字段名|含义|
|:-|:-|
|no|基层党组织编号|
|name|基层党组织名称|



### 下载会员录入模板表(GET)
* /stu/exportModel
#### 参数
无

### 文件录入学生信息(POST)
* /stu/add
#### 参数
* 学员信息文件（模板） file
#### 返回信息

### 查询学员权限(POST)
* /stu/power
#### 参数
* 学号/工号 stuNo

### 获取全部学员信息(POST)
* /stu/allInfo
#### 参数
无

### 获取某基层党组织的全部学员信息(POST)
* /stu/schoolInfo
#### 参数
* 基层党组织编号 schoolNo

### 查询某学员的信息(POST)
* /stu/infoByNo
#### 参数
* 学号/工号 stuNo

### 管理员修改学员信息
* /stu/updateInfoByAdmin
#### 参数
* no 学号/工号
* name 姓名
* schoolNo 基层党组织编号
* age 年龄
* gender 性别
* power 权限

### 学员自己修改个人信息
* /stu/updateInfoBySelf
#### 参数
* name 姓名
* age 年龄
* gender 性别


### 发布课程
#### 暂未完成

### 获取全部的课程信息
* /course/list
#### 参数
无

### 根据权限获取可选课程列表
/course/seatStatus
#### 参数
* power 权限

### 查询某期课程座位选择状况
* /course/seatStatus
#### 参数
* courseNo 课程号
* stage 期号
#### 返回
* code 状态码
* msg 消息
* data int数组


### 学员选课选座
* /course/select
#### 参数
* courseNo  课程号
* stage 期号
* seatNo 座位号
#### 返回
* code 状态码
* msg 返回消息
* data null(无)


---
### 取消选课
* /course/cancel
#### 参数
* courseNo 课程号
* stage 期号

### 管理员查询某节某期课程的选座状况
* /course/selectStatus
#### 参数
* courseNo 课程号
* stage 期号

### 查看某个学员已选课程
* /course/stuSelectStatus
#### 参数
* stuNo 学号/工号

### 反馈某期课程到课人员信息
* /course/feedback
#### 参数
* stu 学号数组

### 获取某个学生的已获得学时总额
* /course/stuAllTime
#### 参数
* stuNo 学号/工号
